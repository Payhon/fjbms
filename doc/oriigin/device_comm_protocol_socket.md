## 云平台-读指令

| 名称           | 偏移 | 长度 | 描述                     | 备注                 |
| -------------- | ---- | ---- | ------------------------ | -------------------- |
| 头码           | 0    | 2    | 0x7F, 0x55               |                      |
| 来源地址       | 2    | 1    | 上位机0xFE               |                      |
| 目标地址       | 3    | 1    | 0XFA                     |                      |
| 功能码         | 4    | 1    | 功能码:0X0F. 云平台查询 |                      |
| 起始地址       | 5    | 2    | 起始地址高字节<br>起始地址低字节 |                      |
| 寄存器数量=N | 7    | 2    | 寄存器数量高字节<br>寄存器数量低字节 |                      |
| CRC            | 9    | 2    | CRCL<br>CRCH             |                      |
| 尾码           | 11   | 1    | 0xFD                     |                      |

---

## 4G回复或主动上报

| 名称           | 偏移     | 长度   | 描述                                                         | 备注                     |
| -------------- | -------- | ------ | ------------------------------------------------------------ | ------------------------ |
| 头码           | 0        | 2      | 0x7F, 0x55                                                   |                          |
| 来源地址       | 2        | 1      | 0XFA<br>0x01~0XEA                                            | 4G模块回应<br>电池主动上报 |
| 目标地址       | 3        | 1      | 同主机发送的一致                                             |                          |
| 功能码         | 4        | 1      | 0X0F(可以为主动上报，也可以是查询回复)                       |                          |
| 字节数量=N | 5        | 1      | 字节数量                                                     | 最大250                  |
| 数据内容       | 6        | N*2    | 头4个字节为上报的寄存器地址和寄存器数量，后面的字节为上报的数据内容 | 如果回复数据为0xff，忽略数据内容 |
| CRC            | N*2+6    | 2      | CRCL<br>CRCH                                                 |                          |
| 尾码           | N*2+8    | 1      | 0xFD                                                         |                          |

---

# 云平台读取寄存器

| 地址           | 名称               | 长度(字节) | 读写 | 高低字节 | 单位 | 偏移量 | 分辨率   | 描述                  |
| -------------- | ------------------ | ---------- | ---- | -------- | ---- | ------ | -------- | --------------------- |
| 0X900          | 经度               | 4          | R    |          |      | 0      | 0.00001  | WGS84坐标系值         |
| 0X902          | 纬度               | 4          | R    |          |      | 0      | 0.00001  | WGS84坐标系值         |
| 0x904          | 速度               | 2          | R    |          |      | 0      | 0.001    | km/h                  |
| 0x905          | 高度               | 2          | R    |          | m米  | 0      | 1        |                       |
| 0x906          | 信号强度rssi       | 2          | R    |          |      | 0      |          | GSM信号强度           |
| 0x907          | 位置区码(Tracking Area Code) | 2          | R    |          |      | 0      |          |                       |
| 0x908          | 小区识别码(Cell Identity) | 4          | R    |          |      | 0      |          |                       |
| 0x90A~0x912    | IMEI               | 18         |      |          |      |        |          | 不足长度用\0补齐      |
| 0X913~0X91D    | ICCID              | 22         |      |          |      |        |          | 不足长度用\0补齐      |
| 0x91E~0x923    | 4G模块软件版本号   | 12         |      |          |      |        |          | 不足长度用\0补齐      |

---